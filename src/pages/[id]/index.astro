---
import type { GetStaticPaths } from 'astro'
import { getCollection } from 'astro:content'
import type { CollectionEntry } from 'astro:content'

import Layout from '/Article.astro'

export const allArticles = await getCollection('articles')

export const getStaticPaths: GetStaticPaths =
	() => allArticles.map(entry => ({
		params: { id: entry.id },
		props: { entry },
	}))

const entry = Astro.props.entry as CollectionEntry<'articles'>
---
<Layout {entry} />
